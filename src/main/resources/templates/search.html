<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Search your need</title>
</head>
<body>
<div>
		<h3 style="color: green;" th:text="${session.success}"></h3>
		<h3 style="color: red;" th:text="${session.failure}"></h3>
		<th:block th:text="${@messageRemover.remove()}"></th:block>
	</div>
	<div align="center">
		<h1>Search here</h1>
		<form action="/search-products" method="post">
			<input th:value="${query}" type="text" name="query"
				placeholder="Enter Name or Category">
			<button>Search</button>
		</form>

		<div th:if="${query}">
			<div th:if="${products}">
				<table border=1>
					<tr>
						<th>Name</th>
						<th>Picture</th>
						<th>Description</th>
						<th>Stock</th>
						<th>Price</th>
						<th>Category</th>
						<th>Action</th>
					</tr>
					<tr th:each="p:${products}">
						<td th:text="${p.name}"></td>
						<td><img height="100px" width="100px" th:src="${p.imageLink}"></td>
						<td th:text="${p.description}"></td>
						<td th:text="${p.stock}+' Units'"></td>
						<td th:text="${p.price}"></td>
						<td th:text="${p.category}"></td>
						<td><a th:href="'/add-cart/'+${p.id}"><button>Add to Cart</button></a></td>
					</tr>
				</table>
			</div>
		</div>
		<div th:if="${#lists.isEmpty(products)}">No products found</div>

	</div>
	</div>
	</div>
</body>
</html>